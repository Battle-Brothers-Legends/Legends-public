this.maher_undead_scourge_encounter <- this.inherit("scripts/encounters/encounter", {
    m = {

    },
    function create() {
        this.createScreens();
        this.m.Type = "encounter.legend_undead_scourge_encounter";
        this.m.Name = "Rampaging Undead";
    }

    function createScreens() {
        this.m.Screens.extend([{
            ID = "Task",
            Title = "Strolling around the city...",
            Text = "[img]gfx/ui/events/event_77.png[/img]{While on the prowl for contracts, you hear a local priest- or perhaps resident hysterical old man, who\'s to say- shouting about how the end times have come,%SPEECH_ON%The old gods have forsaken us, have allowed the long dead to slip back into our realm. The high houses have failed you, so now you turn to the gods- and yet you do not plead!? The dead are the gods whip, chastisement for our sins!%SPEECH_OFF% You see several in the crowd nodding along to his statements &SPEECH_ON%It\'s true!%SPEECH_OFF% wails one woman. She, almost desperately, flings her purse at the man\'s feet. %SPEECH_ON% Please, deliver us from this hell!%SPEECH_OFF% Others quickly pile offerings at his feet. You even see someone place their child at his boots.'}",
            Image = "",
            List = [],
            Options = [
                {
                    Text = "Nigh is the time of madness and disdain. ",
                    function getResult(_event) {
                        return 0;
                    }
                }
            ],
            function start(_event) {}
        }]);
    }

    function isValid(_settlement) {
        if (!this.World.FactionManager.isUndeadScourge())
            return false;
        if (this.World.Contracts.getActiveContract() == null)
            return false;
        return !this.isOnCooldown();
    }
})


